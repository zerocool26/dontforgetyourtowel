---
import MarketingLayout from '../layouts/MarketingLayout.astro';
import ModernButton from '../components/ui/ModernButton.astro';
import ModernCard from '../components/ui/ModernCard.astro';
import ServiceCard from '../components/business/ServiceCard.astro';
import CaseStudyCard from '../components/business/CaseStudyCard.astro';
import TestimonialSlider from '../components/business/TestimonialSlider.astro';
import ServicesQuiz from '../components/business/ServicesQuiz.tsx';
import ServiceCatalog from '../components/business/ServiceCatalog.tsx';
import { getCollection } from 'astro:content';
import { withBasePath } from '../utils/helpers';
import { CONTACT_EMAIL } from '../consts';
import { servicesExtended } from '../data/services-extended';

const startProjectHref = `mailto:${encodeURIComponent(
  CONTACT_EMAIL
)}?subject=${encodeURIComponent('Services inquiry')}`;

const services = [
  {
    id: 'managed-it',
    title: 'Managed IT & Support',
    description:
      'Predictable operations, responsive support, and documented systems—so IT stays boring (in the best way).',
    bullets: [
      '24/7 monitoring & alerting',
      'Helpdesk + onsite dispatch options',
      'Patch management & asset lifecycle',
      'Backup/DR testing and reporting',
    ],
  },
  {
    id: 'cybersecurity',
    title: 'Security & Compliance',
    description:
      'Layered controls, visibility, and response readiness—aligned to your risk profile and regulatory needs.',
    bullets: [
      'Endpoint protection + hardening',
      'Email security & phishing defense',
      'MFA, SSO, identity governance',
      'Incident response guidance',
    ],
  },
  {
    id: 'cloud',
    title: 'Cloud & DevOps',
    description:
      'Modernize safely: migrations, landing zones, IaC, CI/CD, and cost controls built-in.',
    bullets: [
      'Microsoft 365 / Google Workspace optimization',
      'Azure/AWS migrations & landing zones',
      'Network + access modernization',
      'Cost controls + policy guardrails',
    ],
  },
  {
    id: 'ai',
    title: 'Automation & AI Enablement',
    description:
      'Practical automation and AI adoption with governance, privacy, and measurable productivity gains.',
    bullets: [
      'AI readiness & data classification',
      'Workflow automation & copilots',
      'Policy, training, and governance',
      'Security reviews for AI tooling',
    ],
  },
];

const engagementModel = [
  {
    phase: 'Assess',
    outcomes: [
      'Environment inventory',
      'Risk baseline',
      'Quick-win action plan',
    ],
  },
  {
    phase: 'Onboard',
    outcomes: [
      'Monitoring & agent rollout',
      'Security hardening',
      'Runbooks + escalation',
    ],
  },
  {
    phase: 'Operate',
    outcomes: ['Helpdesk + ticketing', 'Patch cadence', 'Monthly reporting'],
  },
  {
    phase: 'Optimize',
    outcomes: [
      'Roadmap sessions',
      'Cost optimization',
      'Quarterly security review',
    ],
  },
];

const industries = [
  { name: 'Healthcare', note: 'HIPAA-aligned controls and audit support' },
  { name: 'Financial Services', note: 'SOC 2 readiness + vendor risk' },
  {
    name: 'Manufacturing',
    note: 'Operational continuity + endpoint resilience',
  },
  {
    name: 'Professional Services',
    note: 'Secure collaboration + identity governance',
  },
  { name: 'Retail', note: 'Device management + network segmentation' },
  { name: 'SaaS & Tech', note: 'Cloud guardrails + security program support' },
];

const caseStudies = (await getCollection('caseStudies' as never)) as any[];
const featuredCaseStudies = caseStudies.slice(0, 3);
const testimonials = (await getCollection('testimonials' as never)) as any[];
const featuredTestimonials = testimonials
  .filter(t => t?.data?.featured)
  .slice(0, 6);
---

<MarketingLayout
  title="Services | Olive Global Systems"
  description="Enterprise service catalog across cybersecurity, MSP, AI consulting, application engineering, network architecture, and cloud delivery."
>
  <section class="relative overflow-hidden bg-zinc-950 pb-16 pt-28" data-reveal>
    <div
      class="absolute inset-0 -z-10 bg-[radial-gradient(circle_at_top,_rgba(0,102,255,0.16),_transparent_55%)]"
    >
    </div>
    <div class="mx-auto max-w-[1220px] px-6">
      <div
        class="creative-hero-shell grid gap-10 p-8 lg:grid-cols-2 lg:items-center"
      >
        <div class="space-y-6">
          <p class="creative-kicker">Services</p>
          <h1 class="creative-title text-4xl font-bold text-white sm:text-5xl">
            Creative systems delivery across
            <span class="text-accent-300"> AI, security, and cloud.</span>
          </h1>
          <p class="creative-copy text-base">
            We design and operate ambitious technology programs: product-facing
            AI, hardened infrastructure, and cloud/platform systems that stay
            expressive without becoming fragile.
          </p>
          <div class="flex flex-col gap-3 sm:flex-row">
            <ModernButton
              href={withBasePath('services/#engagement-model')}
              variant="secondary"
              className="min-h-[48px]"
            >
              How we work
            </ModernButton>
            <ModernButton
              href={startProjectHref}
              variant="primary"
              className="min-h-[48px]"
            >
              Start a project
            </ModernButton>
          </div>
        </div>

        <div class="grid gap-4">
          <ModernCard variant="minimal" className="creative-panel p-6">
            <p class="text-sm font-semibold text-white">Fast onboarding</p>
            <p class="mt-2 text-sm text-zinc-300">
              Most engagements move from intake to active instrumentation in
              10–14 days, depending on system complexity.
            </p>
          </ModernCard>
          <ModernCard variant="minimal" className="creative-panel p-6">
            <p class="text-sm font-semibold text-white">
              Transparent reporting
            </p>
            <p class="mt-2 text-sm text-zinc-300">
              Weekly delivery signal, monthly operating reviews, and no
              black-box implementation work.
            </p>
          </ModernCard>
        </div>
      </div>
    </div>
  </section>

  <section class="border-y border-white/5 bg-zinc-900/30" data-reveal>
    <div class="mx-auto max-w-[1220px] px-6 py-16">
      <div class="mb-5 flex flex-wrap items-center gap-2">
        <span class="creative-kicker">Service Lanes</span>
        <a class="creative-chip" href="#managed-it">Managed IT</a>
        <a class="creative-chip" href="#cybersecurity">Cybersecurity</a>
        <a class="creative-chip" href="#cloud">Cloud & DevOps</a>
        <a class="creative-chip" href="#ai">AI Enablement</a>
      </div>
      <div class="grid gap-5 md:grid-cols-2 lg:grid-cols-4">
        {
          services.map(s => (
            <ServiceCard
              title={s.title}
              description={s.description}
              bullets={s.bullets}
              href={`#${s.id}`}
            />
          ))
        }
      </div>
    </div>
  </section>

  <section
    class="sticky top-16 z-20 border-b border-white/5 bg-zinc-950/80 backdrop-blur-xl"
  >
    <div class="mx-auto max-w-[1220px] px-6 py-4 sm:py-5">
      <div class="flex flex-wrap items-center gap-2">
        <span class="creative-kicker">Quick Jump</span>
        <a class="creative-chip" href="#managed-it">Managed IT</a>
        <a class="creative-chip" href="#cybersecurity">Cybersecurity</a>
        <a class="creative-chip" href="#cloud">Cloud & DevOps</a>
        <a class="creative-chip" href="#ai">AI Enablement</a>
        <a class="creative-chip" href="#engagement-model">Engagement Model</a>
        <a class="creative-chip" href="#contact">Contact</a>
      </div>
    </div>
  </section>

  <section class="border-b border-white/5 bg-zinc-900/20" data-reveal>
    <div class="mx-auto max-w-[1220px] px-6 py-10">
      <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
        <ModernCard variant="minimal" className="creative-panel p-5">
          <p class="text-xs uppercase tracking-[0.24em] text-zinc-500">
            Catalog Depth
          </p>
          <p class="mt-2 text-2xl font-semibold text-white">100+ Services</p>
          <p class="mt-1 text-xs text-zinc-400">
            Specialist offerings mapped across six enterprise domains.
          </p>
        </ModernCard>
        <ModernCard variant="minimal" className="creative-panel p-5">
          <p class="text-xs uppercase tracking-[0.24em] text-zinc-500">
            Operating Model
          </p>
          <p class="mt-2 text-2xl font-semibold text-white">4 Phases</p>
          <p class="mt-1 text-xs text-zinc-400">
            Assess, onboard, operate, and optimize with measurable cadence.
          </p>
        </ModernCard>
        <ModernCard variant="minimal" className="creative-panel p-5">
          <p class="text-xs uppercase tracking-[0.24em] text-zinc-500">
            Coverage Window
          </p>
          <p class="mt-2 text-2xl font-semibold text-white">24/7 Option</p>
          <p class="mt-1 text-xs text-zinc-400">
            Production support, detection, and escalation pathways.
          </p>
        </ModernCard>
        <ModernCard
          variant="minimal"
          className="border-white/10 bg-zinc-950/60 p-5"
        >
          <p class="text-xs uppercase tracking-[0.24em] text-zinc-500">
            Delivery Focus
          </p>
          <p class="mt-2 text-2xl font-semibold text-white">Outcome-First</p>
          <p class="mt-1 text-xs text-zinc-400">
            Roadmaps translated into operating controls and shipped systems.
          </p>
        </ModernCard>
      </div>
    </div>
  </section>

  {
    services.map(s => (
      <section id={s.id} class="scroll-mt-32 bg-zinc-950">
        <div class="mx-auto max-w-[1220px] px-6 py-16 sm:py-20">
          <div class="grid gap-10 lg:grid-cols-2 lg:items-start">
            <div class="space-y-4">
              <h2 class="text-3xl font-semibold text-white">{s.title}</h2>
              <p class="text-sm text-zinc-300">{s.description}</p>
              <div class="pt-2">
                <ModernButton
                  href={startProjectHref}
                  variant="primary"
                  className="min-h-[48px]"
                >
                  Discuss your needs
                </ModernButton>
              </div>
            </div>
            <ModernCard
              variant="minimal"
              className="p-6 bg-zinc-950/60 border-white/10"
            >
              <p class="text-sm font-semibold text-white">What’s included</p>
              <ul class="mt-4 space-y-2 text-sm text-zinc-300">
                {s.bullets.map(item => (
                  <li class="flex items-start gap-2">
                    <span class="mt-2 h-1.5 w-1.5 flex-shrink-0 bg-accent-500" />
                    <span>{item}</span>
                  </li>
                ))}
              </ul>
              <p class="mt-5 text-xs text-zinc-400">
                Exact scope depends on your plan and environment. We’ll confirm
                inclusions during onboarding.
              </p>
            </ModernCard>
          </div>
        </div>
      </section>
    ))
  }

  <section
    class="overflow-hidden border-y border-white/5 bg-zinc-900/10"
    data-reveal
  >
    <div class="mx-auto max-w-[1220px] px-6 py-24">
      <div class="mb-16 space-y-4 text-center">
        <h2 class="text-4xl font-bold text-white">The Comprehensive Catalog</h2>
        <p class="mx-auto max-w-2xl text-zinc-400">
          Explore our full range of 100+ specialized services across security,
          development, and AI consulting. Built for the most demanding technical
          environments.
        </p>
      </div>

      <ServiceCatalog client:visible services={servicesExtended} />
    </div>
  </section>

  <section class="bg-zinc-950" data-reveal>
    <div class="mx-auto max-w-[1220px] px-6 py-24">
      <div class="grid gap-16 lg:grid-cols-2 lg:items-center">
        <div class="space-y-8">
          <div
            class="inline-flex items-center gap-2 rounded-full border border-accent-500/20 bg-accent-500/5 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-accent-400"
          >
            Strategic Outlook 2026
          </div>
          <h2 class="text-4xl font-bold leading-tight text-white sm:text-5xl">
            The Technology Transition: <span class="text-accent-300"
              >Beyond Traditional IT.</span
            >
          </h2>
          <p class="text-lg leading-relaxed text-zinc-300">
            The era of basic managed services is over. We are transitioning into
            an age of autonomous operations, quantum-safe security, and
            AI-orchestrated infrastructure.
          </p>
          <div class="space-y-6">
            <div class="flex gap-4">
              <div
                class="flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg border border-white/10 bg-zinc-900 text-accent-400"
              >
                <svg
                  class="h-6 w-6"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  ><path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg
                >
              </div>
              <div>
                <h3 class="text-lg font-semibold text-white">
                  Autonomous Operations
                </h3>
                <p class="mt-1 text-sm text-zinc-400">
                  Moving from reactive patching to self-healing clusters and
                  AI-driven performance optimization.
                </p>
              </div>
            </div>
            <div class="flex gap-4">
              <div
                class="flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg border border-white/10 bg-zinc-900 text-accent-400"
              >
                <svg
                  class="h-6 w-6"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  ><path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
                  ></path></svg
                >
              </div>
              <div>
                <h3 class="text-lg font-semibold text-white">
                  Quantum Resilience
                </h3>
                <p class="mt-1 text-sm text-zinc-400">
                  Hardening data architectures today against the decryption
                  threats of tomorrow.
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="relative">
          <div
            class="absolute -inset-4 rounded-full bg-accent-500/10 opacity-30 blur-3xl"
          >
          </div>
          <div
            class="relative overflow-hidden rounded-3xl border border-white/10 bg-zinc-900 p-1"
          >
            <div
              class="aspect-square flex items-center justify-center bg-gradient-to-br from-zinc-800 to-zinc-950"
            >
              <div class="space-y-4 p-8 text-center">
                <div
                  class="bg-gradient-to-r from-accent-400 to-cyan-400 bg-clip-text text-6xl font-bold text-transparent"
                >
                  100%
                </div>
                <p
                  class="font-mono text-sm uppercase tracking-tighter text-zinc-500"
                >
                  Cloud-native native alignment
                </p>
                <div class="h-px w-full bg-white/5"></div>
                <div class="text-3xl font-bold text-white">
                  Strategic Advantage
                </div>
                <p class="text-xs text-zinc-400">
                  We don't just maintain; we accelerate. Our engineering
                  philosophy is rooted in building systems that aren't just
                  reliable, but competitive.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section
    class="border-y border-white/5 bg-zinc-900/30"
    id="engagement-model"
    data-reveal
  >
    <div class="mx-auto max-w-[1220px] px-6 py-20">
      <div class="max-w-3xl space-y-4">
        <h2 class="text-3xl font-semibold text-white">How we work</h2>
        <p class="text-sm text-zinc-300">
          A simple engagement model: assess risk, onboard cleanly, operate with
          discipline, and optimize continuously.
        </p>
      </div>

      <div class="mt-10 grid gap-5 md:grid-cols-2 lg:grid-cols-4">
        {
          engagementModel.map(step => (
            <ModernCard
              variant="minimal"
              className="p-6 bg-zinc-950/60 border-white/10"
            >
              <p class="text-sm font-semibold text-white">{step.phase}</p>
              <ul class="mt-4 space-y-2 text-sm text-zinc-300">
                {step.outcomes.map(outcome => (
                  <li class="flex items-start gap-2">
                    <span class="mt-2 h-1.5 w-1.5 flex-shrink-0 bg-accent-500" />
                    <span>{outcome}</span>
                  </li>
                ))}
              </ul>
            </ModernCard>
          ))
        }
      </div>
    </div>
  </section>

  <section class="bg-zinc-950" id="industries" data-reveal>
    <div class="mx-auto max-w-[1220px] px-6 py-20">
      <div class="max-w-3xl space-y-4">
        <h2 class="text-3xl font-semibold text-white">Industries we support</h2>
        <p class="text-sm text-zinc-300">
          We bring proven playbooks, documentation, and controls to regulated
          and fast-moving environments.
        </p>
      </div>

      <div class="mt-10 grid gap-5 md:grid-cols-2 lg:grid-cols-3">
        {
          industries.map(i => (
            <ModernCard
              variant="minimal"
              className="p-6 bg-zinc-950/60 border-white/10"
            >
              <p class="text-sm font-semibold text-white">{i.name}</p>
              <p class="mt-2 text-sm text-zinc-300">{i.note}</p>
            </ModernCard>
          ))
        }
      </div>
    </div>
  </section>

  <section
    class="border-y border-white/5 bg-zinc-900/30"
    id="case-studies"
    data-reveal
  >
    <div class="mx-auto max-w-[1220px] px-6 py-20">
      <div
        class="flex flex-col gap-6 md:flex-row md:items-end md:justify-between"
      >
        <div class="max-w-3xl space-y-3">
          <h2 class="text-3xl font-semibold text-white">Recent outcomes</h2>
          <p class="text-sm text-zinc-300">
            A few examples of modernization, security hardening, and automation
            delivered for real teams.
          </p>
        </div>
        <ModernButton
          href={withBasePath('contact-hq/')}
          variant="secondary"
          className="min-h-[48px]"
        >
          Compare plans
        </ModernButton>
      </div>

      <div class="mt-10 grid gap-5 md:grid-cols-3">
        {
          featuredCaseStudies.map((entry: any) => (
            <CaseStudyCard
              title={entry.data?.title ?? entry.slug}
              industry={entry.data?.industry}
              summary={entry.data?.summary}
              results={entry.data?.results}
              href={withBasePath('services/#case-studies')}
            />
          ))
        }
      </div>
    </div>
  </section>

  <section class="bg-zinc-950" data-reveal>
    <div class="mx-auto max-w-[1220px] px-6 py-20">
      <div class="grid gap-10 lg:grid-cols-[1.1fr_0.9fr] lg:items-start">
        <div class="space-y-4">
          <h2 class="text-3xl font-semibold text-white">
            Not sure what you need?
          </h2>
          <p class="text-sm text-zinc-300">
            Take a 60-second quiz and we’ll recommend a starting package.
          </p>
          <ModernButton
            href={startProjectHref}
            variant="secondary"
            className="min-h-[48px]"
          >
            Or talk to an expert
          </ModernButton>
        </div>
        <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
          <ServicesQuiz client:load />
        </div>
      </div>
    </div>
  </section>

  <section
    class="border-t border-white/5 bg-zinc-900/30"
    id="testimonials"
    data-reveal
  >
    <div class="mx-auto max-w-[1220px] px-6 py-20">
      <div class="max-w-3xl space-y-4">
        <h2 class="text-3xl font-semibold text-white">What clients say</h2>
        <p class="text-sm text-zinc-300">
          Trust is earned in the day-to-day: reliable support, clear reporting,
          and real risk reduction.
        </p>
      </div>

      <div class="mt-10">
        <TestimonialSlider testimonials={featuredTestimonials} />
      </div>
    </div>
  </section>

  <section class="bg-zinc-950" id="contact" data-reveal>
    <div class="mx-auto max-w-[1220px] px-6 py-20">
      <div class="rounded-2xl border border-white/10 bg-white/5 p-8">
        <div class="grid gap-8 lg:grid-cols-[1.2fr_0.8fr] lg:items-center">
          <div class="space-y-3">
            <h2 class="text-2xl font-semibold text-white">Get in touch</h2>
            <p class="text-sm text-zinc-300">
              No forms. Email us a short summary of what you’re trying to
              achieve and we’ll reply with next steps.
            </p>
            <p class="text-sm text-zinc-300">
              <a
                class="text-accent-300 hover:underline"
                href={`mailto:${CONTACT_EMAIL}`}>{CONTACT_EMAIL}</a
              >
            </p>
          </div>
          <div class="flex flex-col gap-3 sm:flex-row lg:justify-end">
            <ModernButton
              href={startProjectHref}
              variant="primary"
              className="min-h-[48px]"
            >
              Email project details
            </ModernButton>
          </div>
        </div>
      </div>
    </div>
  </section>
</MarketingLayout>
