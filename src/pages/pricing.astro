---
import MarketingLayout from '../layouts/MarketingLayout.astro';
import ModernCard from '../components/ui/ModernCard.astro';
import ModernButton from '../components/ui/ModernButton.astro';
import PricingTier from '../components/business/PricingTier.astro';
import PricingCalculator from '../components/business/PricingCalculator.tsx';
import ROICalculator from '../components/business/ROICalculator.tsx';
import { withBasePath } from '../utils/helpers';
import { CONTACT_EMAIL } from '../consts';

const requestQuoteHref = `mailto:${encodeURIComponent(
  CONTACT_EMAIL
)}?subject=${encodeURIComponent('Request pricing / quote')}`;

const tiers = [
  {
    name: 'Essentials',
    price: '$99 / user / mo',
    description:
      'A reliable foundation for helpdesk, patching, backups, and monitoring.',
    perks: [
      'Monitoring + alerting (workstations & key services)',
      'Ticketing + response SLAs',
      'Patch management cadence',
      'Backup oversight + restore testing',
    ],
    highlight: false,
  },
  {
    name: 'Growth',
    price: '$149 / user / mo',
    description:
      'The best fit for growing teams who need stronger security and more proactive IT.',
    perks: [
      'Everything in Essentials',
      'Identity hardening (MFA, SSO guidance)',
      'Security baseline + policy templates',
      'Quarterly roadmap review',
    ],
    highlight: true,
  },
  {
    name: 'Secure+',
    price: '$199 / user / mo',
    description:
      'Advanced security coverage, governance, and incident readiness for regulated environments.',
    perks: [
      'Everything in Growth',
      'Managed EDR + response playbooks',
      'Security awareness + phishing program',
      'Compliance support (SOC 2 / ISO-style controls)',
    ],
    highlight: false,
  },
  {
    name: 'Custom',
    price: 'Quoted',
    description:
      'Complex environments, multi-site networks, or dedicated vCISO / SOC requirements.',
    perks: [
      'Device + server-based pricing options',
      'Custom SLA & escalation',
      'Dedicated security program support',
      'Cloud migration + modernization workstreams',
    ],
    highlight: false,
  },
];

const faqs = [
  {
    q: 'Do you support co-managed IT?',
    a: 'Yes. We can partner with your internal IT team—handling monitoring, escalations, security, and projects while your team stays close to the business.',
  },
  {
    q: 'What impacts pricing the most?',
    a: 'User and device counts, compliance scope, server footprint, and response SLAs. We confirm scope during discovery and onboarding.',
  },
  {
    q: 'Can you help with SOC 2 readiness?',
    a: 'We can help build security controls, evidence collection habits, and vendor/process documentation to support readiness efforts. We do not act as an auditor.',
  },
  {
    q: 'How fast can we onboard?',
    a: 'Many SMB environments onboard within 10–14 days. Larger or multi-site environments can take longer depending on tooling and access readiness.',
  },
];
---

<MarketingLayout
  title="Pricing | Olive Chicago"
  description="Simple, transparent pricing for managed IT, security, cloud support, and AI readiness."
>
  <section class="relative overflow-hidden bg-zinc-950 text-zinc-50">
    <div
      class="absolute inset-0 -z-10 bg-[radial-gradient(circle_at_top,_rgba(0,102,255,0.16),_transparent_55%)]"
    >
    </div>
    <div class="relative mx-auto max-w-[1220px] px-6 pb-16 pt-28">
      <div class="max-w-3xl space-y-6">
        <p
          class="text-xs font-semibold uppercase tracking-[0.32em] text-zinc-400"
        >
          Pricing
        </p>
        <h1 class="text-4xl font-bold text-white sm:text-5xl">
          Plans that scale with your business—
          <span class="text-accent-300">without surprises.</span>
        </h1>
        <p class="text-base text-zinc-300">
          Our pricing is typically per user, with add-ons for advanced security
          and special compliance scope. We’ll confirm the best-fit plan during a
          free consultation.
        </p>
        <div class="flex flex-col gap-3 sm:flex-row">
          <ModernButton
            href={withBasePath('services/')}
            variant="secondary"
            className="min-h-[48px]"
          >
            Review services
          </ModernButton>
          <ModernButton
            href={requestQuoteHref}
            variant="primary"
            className="min-h-[48px]"
          >
            Get a quote
          </ModernButton>
        </div>
      </div>

      <ModernCard
        variant="minimal"
        className="mt-10 border-white/10 bg-white/5 p-6"
      >
        <p class="text-sm text-zinc-300">
          <span class="font-semibold text-white">All plans include</span> onboarding,
          documented runbooks, and monthly reporting.
        </p>
      </ModernCard>
    </div>
  </section>

  <section class="border-y border-white/5 bg-zinc-900/30">
    <div class="mx-auto max-w-[1220px] px-6 py-16">
      <div class="grid gap-5 md:grid-cols-2 lg:grid-cols-4">
        {
          tiers.map(t => (
            <PricingTier
              name={t.name}
              price={t.price}
              description={t.description}
              perks={t.perks}
              highlight={t.highlight}
              ctaLabel={t.highlight ? 'Choose Growth' : 'Talk to sales'}
              ctaHref={requestQuoteHref}
            />
          ))
        }
      </div>
      <p class="mt-6 text-xs text-zinc-500">
        Prices are illustrative. Final pricing depends on device counts, server
        footprint, compliance scope, and SLA.
      </p>
    </div>
  </section>

  <section class="bg-zinc-950">
    <div class="mx-auto max-w-[1220px] px-6 py-20">
      <div class="grid gap-10 lg:grid-cols-2 lg:items-start">
        <div class="space-y-4">
          <h2 class="text-3xl font-semibold text-white">
            Estimate your monthly cost
          </h2>
          <p class="text-sm text-zinc-300">
            Use the calculator for a ballpark estimate. We’ll validate
            assumptions and produce a detailed quote in discovery.
          </p>
        </div>
        <PricingCalculator client:visible />
      </div>
    </div>
  </section>

  <section class="border-y border-white/5 bg-zinc-900/30">
    <div class="mx-auto max-w-[1220px] px-6 py-20">
      <div class="grid gap-10 lg:grid-cols-2 lg:items-start">
        <div class="space-y-4">
          <h2 class="text-3xl font-semibold text-white">Estimate ROI</h2>
          <p class="text-sm text-zinc-300">
            A quick planning tool to evaluate payback periods. Real savings
            often come from reduced downtime, stronger security controls, and
            fewer emergency projects.
          </p>
        </div>
        <ROICalculator client:visible />
      </div>
    </div>
  </section>

  <section class="bg-zinc-950" id="faq">
    <div class="mx-auto max-w-[1220px] px-6 py-20">
      <div class="max-w-3xl space-y-4">
        <h2 class="text-3xl font-semibold text-white">FAQs</h2>
        <p class="text-sm text-zinc-300">
          If you don’t see your question here, email us and we’ll walk you
          through options.
        </p>
      </div>

      <div class="mt-10 grid gap-4">
        {
          faqs.map(item => (
            <details class="rounded-2xl border border-white/10 bg-white/5 p-6">
              <summary class="cursor-pointer select-none text-sm font-semibold text-white">
                {item.q}
              </summary>
              <p class="mt-3 text-sm leading-relaxed text-zinc-300">{item.a}</p>
            </details>
          ))
        }
      </div>
    </div>
  </section>

  <section class="border-t border-white/5 bg-zinc-900/30" id="contact">
    <div class="mx-auto max-w-[1220px] px-6 py-20">
      <div class="rounded-2xl border border-white/10 bg-white/5 p-8">
        <div
          class="flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between"
        >
          <div class="max-w-2xl">
            <h2 class="text-2xl font-semibold text-white">Request a quote</h2>
            <p class="mt-3 text-sm text-zinc-300">
              Email your user/device counts, key apps, and compliance needs.
              We’ll respond with a best-fit plan and recommended add-ons.
            </p>
            <p class="mt-3 text-sm text-zinc-300">
              <a
                class="text-accent-300 hover:underline"
                href={`mailto:${CONTACT_EMAIL}`}>{CONTACT_EMAIL}</a
              >
            </p>
          </div>
          <div class="flex flex-col gap-3 sm:flex-row">
            <ModernButton
              href={requestQuoteHref}
              variant="primary"
              className="min-h-[48px]"
            >
              Email for a quote
            </ModernButton>
          </div>
        </div>
      </div>
    </div>
  </section>
</MarketingLayout>
