---
import { withBasePath } from '../../utils/helpers';
import HeroCanvas from '../ui/HeroCanvas.astro';

interface Props {
  /** Main headline text */
  headline: string;
  /** Supporting subheading text */
  subheading: string;
  /** Optional badge/chip text */
  badge?: string;
  /** Enable animated entrance */
  animated?: boolean;
}

const {
  headline = 'Ship calm, cinematic, and absurdly fast.',
  subheading = 'A production-ready Astro + Three.js demo with a real-time hero pulled straight from the 3D gallery — responsive, accessible, and performance-aware.',
  badge = 'High-trust static ops',
  animated = true,
} = Astro.props;

const animationClasses = animated ? 'animate-fade-in' : '';

const primaryCta = {
  label: 'Open 3D gallery',
  href: withBasePath('gallery/'),
};
---

<section
  class={`relative isolate overflow-hidden ${animationClasses} min-h-[92vh]`}
>
  <HeroCanvas className="opacity-100" variant="neural" />

  <div class="pointer-events-none absolute inset-0 z-[1]">
    <div
      class="from-space-950/60 via-space-950/10 to-space-950/90 absolute inset-0 bg-gradient-to-b"
    >
    </div>
    <div
      class="absolute inset-0 bg-[radial-gradient(circle_at_30%_25%,rgba(124,58,237,0.35),transparent_55%),radial-gradient(circle_at_70%_45%,rgba(34,211,238,0.28),transparent_55%)]"
    >
    </div>
  </div>

  <div
    class="pointer-events-none absolute inset-3 z-[2] rounded-2xl border border-white/10"
    aria-hidden="true"
  >
  </div>

  <div
    class="relative z-10 mx-auto flex min-h-[92vh] max-w-6xl flex-col justify-end px-6 pb-16 pt-28 sm:px-10"
  >
    <div class="max-w-2xl">
      <p
        class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-black/25 px-4 py-2 font-mono text-xs tracking-wide text-slate-100 backdrop-blur"
      >
        <span
          class="h-2 w-2 rounded-full bg-accent-400 shadow-[0_0_20px_rgba(34,211,238,0.7)]"
          aria-hidden="true"></span>
        {badge}
        <span class="text-white/40" aria-hidden="true">·</span>
        <span class="text-white/70">Chapter 11</span>
      </p>

      <h1
        class="mt-6 text-balance text-4xl font-semibold tracking-tight text-white sm:text-6xl"
      >
        {headline}
      </h1>
      <p
        class="mt-5 max-w-xl text-pretty text-base leading-relaxed text-slate-200 sm:text-lg"
      >
        {subheading}
      </p>

      <div class="mt-9 flex flex-col gap-3 sm:flex-row">
        <a
          class="inline-flex items-center justify-center rounded-md bg-accent-500 px-6 py-3 font-semibold text-white shadow-lg shadow-accent-500/20 transition hover:bg-accent-400 focus:outline-none focus:ring-2 focus:ring-accent-300"
          href={primaryCta.href}
        >
          {primaryCta.label}
        </a>
      </div>
    </div>
  </div>
</section>
