---
import { heroSignals } from '../../data/marketing';
import { withBasePath } from '../../utils/helpers';
import HeroCanvas from '../ui/HeroCanvas.astro';

interface Props {
  /** Main headline text */
  headline: string;
  /** Supporting subheading text */
  subheading: string;
  /** Optional badge/chip text */
  badge?: string;
  /** Enable animated entrance */
  animated?: boolean;
}

const {
  headline = 'Ship calm, cinematic, and absurdly fast.',
  subheading = 'A production-ready Astro + Three.js demo with a real-time hero pulled straight from the 3D gallery — responsive, accessible, and performance-aware.',
  badge = 'High-trust static ops',
  animated = true,
} = Astro.props;

const animationClasses = animated ? 'animate-fade-in' : '';

const ctas = [
  {
    label: 'Shop experience',
    href: withBasePath('shop-demo/'),
    variant: 'secondary' as const,
  },
  {
    label: 'Schedule walkthrough',
    href: withBasePath('contact/'),
    variant: 'secondary' as const,
  },
];
---

<section class={`relative isolate overflow-hidden ${animationClasses}`.trim()}>
  <HeroCanvas className="opacity-95" variant="neural" />

  <div class="pointer-events-none absolute inset-0 -z-10">
    <div
      class="from-space-950/60 via-space-950/10 to-space-950/90 absolute inset-0 bg-gradient-to-b"
    >
    </div>
    <div
      class="absolute inset-0 bg-[radial-gradient(circle_at_30%_25%,rgba(124,58,237,0.35),transparent_55%),radial-gradient(circle_at_70%_45%,rgba(34,211,238,0.28),transparent_55%)]"
    >
    </div>
  </div>

  <div
    class="mx-auto flex min-h-[78vh] max-w-6xl flex-col justify-center px-6 py-24 sm:min-h-[82vh] sm:px-10"
  >
    <div class="max-w-2xl">
      <p
        class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 font-mono text-xs tracking-wide text-slate-200"
      >
        <span
          class="h-2 w-2 rounded-full bg-accent-400 shadow-[0_0_20px_rgba(34,211,238,0.7)]"
          aria-hidden="true"></span>
        {badge}
        <span class="text-white/40" aria-hidden="true">·</span>
        <span class="text-white/70">Chapter 11</span>
      </p>

      <h1
        class="mt-6 text-balance text-4xl font-semibold tracking-tight text-white sm:text-6xl"
      >
        {headline}
      </h1>
      <p
        class="mt-6 text-pretty text-lg leading-relaxed text-slate-200 sm:text-xl"
      >
        {subheading}
      </p>

      <div class="mt-10 flex flex-col gap-3 sm:flex-row">
        <a
          class="inline-flex items-center justify-center rounded-md bg-accent-500 px-6 py-3 font-semibold text-white shadow-lg shadow-accent-500/20 transition hover:bg-accent-400 focus:outline-none focus:ring-2 focus:ring-accent-300"
          href={ctas[0].href}
        >
          {ctas[0].label}
        </a>
        <a
          class="inline-flex items-center justify-center rounded-md border border-white/15 bg-white/5 px-6 py-3 font-semibold text-white/90 backdrop-blur transition hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/30"
          href={ctas[1].href}
        >
          {ctas[1].label}
        </a>
      </div>

      <ul class="mt-12 grid gap-3 sm:grid-cols-2" aria-label="Key features">
        {
          heroSignals.map((signal, index) => (
            <li
              class="group flex items-start gap-3 rounded-md border border-white/10 bg-white/5 p-3 font-mono text-sm text-slate-200 backdrop-blur"
              style={animated ? `animation-delay: ${index * 0.1}s` : ''}
            >
              <span
                class="mt-0.5 inline-flex h-5 w-5 flex-shrink-0 items-center justify-center border border-accent-500/50 bg-accent-500/10 text-[0.7rem] text-accent-300 transition-colors group-hover:bg-accent-500/20"
                aria-hidden="true"
              >
                +
              </span>
              <span class="transition-colors group-hover:text-white">
                {signal}
              </span>
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</section>
