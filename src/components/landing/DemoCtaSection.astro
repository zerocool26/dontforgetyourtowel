---
import { withBasePath } from '../../utils/helpers';

const demoSectionId = 'demo-cta-section';
const ctaSectionId = 'final-cta-section';

type HoverColor = 'indigo' | 'purple' | 'cyan';

interface DemoCard {
  href: string;
  emoji: string;
  emojiLabel: string;
  title: string;
  description: string;
  hoverColor: HoverColor;
}

const demoCards: DemoCard[] = [
  {
    href: 'demo/',
    emoji: 'ðŸš€',
    emojiLabel: 'rocket',
    title: 'Demo Center',
    description: 'All demos in one place with advanced options',
    hoverColor: 'indigo',
  },
  {
    href: 'visual-showcase/',
    emoji: 'ðŸŽ¨',
    emojiLabel: 'art palette',
    title: 'Visual Showcase',
    description: 'Cutting-edge 3D graphics and animations',
    hoverColor: 'purple',
  },
  {
    href: 'contact/',
    emoji: 'âš¡',
    emojiLabel: 'lightning bolt',
    title: 'Interactive Forms',
    description: 'Real-time validation and user feedback',
    hoverColor: 'cyan',
  },
];

const hoverColors: Record<HoverColor, { border: string; text: string }> = {
  indigo: {
    border: 'hover:border-indigo-500/50',
    text: 'group-hover:text-indigo-400',
  },
  purple: {
    border: 'hover:border-purple-500/50',
    text: 'group-hover:text-purple-400',
  },
  cyan: {
    border: 'hover:border-cyan-500/50',
    text: 'group-hover:text-cyan-400',
  },
};
---

<section
  class="relative border-t border-white/5 bg-gradient-to-b from-slate-950 via-indigo-950/20 to-slate-950 py-24"
  aria-labelledby={`${demoSectionId}-title`}
>
  <div class="absolute inset-0 -z-10" aria-hidden="true">
    <div
      class="absolute inset-0 bg-[radial-gradient(circle_at_center,_rgba(99,102,241,0.15),_transparent_70%)]"
    >
    </div>
  </div>
  <div class="relative mx-auto max-w-[1220px] px-6">
    <header class="mb-16 text-center">
      <span
        class="mb-4 inline-block rounded-full border border-indigo-500/20 bg-indigo-500/10 px-4 py-2 text-xs font-semibold uppercase tracking-[0.32em] text-indigo-400"
        aria-hidden="true"
      >
        Experience it live
      </span>
      <h2
        id={`${demoSectionId}-title`}
        class="mb-4 text-3xl font-semibold text-white sm:text-4xl"
      >
        Explore Our Interactive Demo Center
      </h2>
      <p class="mx-auto max-w-2xl text-sm text-slate-300">
        Choose from 6 guided experiences showcasing different aspects of the
        platformâ€”from 3D graphics to accessibility features
      </p>
    </header>

    <nav class="mb-12 grid gap-6 md:grid-cols-3" aria-label="Demo experiences">
      {
        demoCards.map((card, index) => (
          <a
            href={withBasePath(card.href)}
            class={`glass-panel group border border-white/10 p-6 ${hoverColors[card.hoverColor].border} transition-all hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-slate-950`}
            aria-labelledby={`demo-card-${index}-title`}
          >
            <div class="mb-3 text-4xl" role="img" aria-label={card.emojiLabel}>
              {card.emoji}
            </div>
            <h3
              id={`demo-card-${index}-title`}
              class={`mb-2 text-xl font-semibold text-white ${hoverColors[card.hoverColor].text} transition-colors`}
            >
              {card.title}
            </h3>
            <p class="text-sm text-slate-400">{card.description}</p>
          </a>
        ))
      }
    </nav>

    <div class="text-center">
      <a
        href={withBasePath('demo/')}
        class="inline-flex items-center gap-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 px-8 py-4 font-bold text-white shadow-lg shadow-indigo-500/50 transition-transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-slate-950"
      >
        <span class="text-xl" role="img" aria-label="game controller">ðŸŽ®</span>
        <span>Explore All Demos</span>
        <svg
          class="h-5 w-5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          aria-hidden="true"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
        </svg>
      </a>
    </div>
  </div>
</section>

<section class="relative" aria-labelledby={`${ctaSectionId}-title`}>
  <div
    class="absolute inset-0 -z-10 bg-[rgba(15,23,42,0.82)]"
    aria-hidden="true"
  >
  </div>
  <div class="relative mx-auto max-w-[980px] px-6 py-20 text-center">
    <div class="glass-panel border border-white/10 px-10 py-14">
      <p
        class="text-xs font-semibold uppercase tracking-[0.32em] text-slate-400"
        aria-hidden="true"
      >
        Next step
      </p>
      <h2
        id={`${ctaSectionId}-title`}
        class="mt-4 text-3xl font-semibold text-white sm:text-4xl"
      >
        Ready to publish status updates without operational drag?
      </h2>
      <p class="mt-4 text-sm text-slate-300">
        Clone the repo, run through the included quality checklist, and deploy
        to GitHub Pages. When you need a partner, our team can fast-track the
        rollout.
      </p>
      <div
        class="mt-8 flex flex-wrap justify-center gap-4"
        role="group"
        aria-label="Call to action buttons"
      >
        <a
          class="btn btn-primary focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-slate-900"
          href={withBasePath('contact/')}
        >
          Talk with our team
        </a>
        <a
          class="btn btn-secondary focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 focus:ring-offset-slate-900"
          href="https://github.com/tariqdude/dontforgetyourtowel"
          target="_blank"
          rel="noopener noreferrer"
        >
          Download the starter
          <span class="sr-only">(opens in new tab)</span>
        </a>
      </div>
    </div>
  </div>
</section>
